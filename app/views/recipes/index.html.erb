<div class="container">
  <div class="panel">
    <div class="panel-heading">
      <h3>Browse Recipes</h3>
    </div>

    <div class="panel-body">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Recipe</th>
            <th>By</th>
            <th>Calories</th>
            <th>Protein</th>
            <th>Fat</th>
            <th colspan="3"></th>
          </tr>
        </thead>

      <div class="search">
        <%= form_tag recipes_path, :method => :get do %>
          <input type="hidden" name="search" value="true">
            <label>Filter by ingredient:</label>
            <select type="search" name="ingredient">
                <option></option>
                <option>Chicken breast, skinless, boneless</option>
                <option>Cheese, Cheddar</option>
                <option>Pacific Cod</option>
                <option>Brocolli</option>
                <option>Quinoa</option>
            </select>
            <button>Search</button>
        <% end %>
      </div>
      <br>

        <tbody>
          <% @recipes.each do |recipe| %>
            <tr>
              <td><%= link_to recipe.name, recipe_path(recipe) %></td>
              <td><%= recipe.dog.user.first_name %></td>
              <% if RecipeNutritionInfo.find_by(recipe_id: recipe.id).nil? %>
                <td>0</td>
                <td>0</td>
                <td>0</td>
              <% else %>
                <td><%= RecipeNutritionInfo.find_by(recipe_id: recipe.id)["energy_kcal"] %></td>
                <td><%= RecipeNutritionInfo.find_by(recipe_id: recipe.id)["protein_g"]%></td>
                <td><%= RecipeNutritionInfo.find_by(recipe_id: recipe.id)["fat_g"]%></td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
